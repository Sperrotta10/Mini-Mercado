name: Keep Aiven DB Alive

on:
  schedule:
    # Ejecutar una vez al día (00:00 UTC) es suficiente para Aiven
    - cron: '0 0 * * *'
  workflow_dispatch: # Para probar manualmente

jobs:
  ping-db:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Aiven MySQL
        run: |
          # MySQL a veces requiere separar el comando si la URL da problemas, 
          # pero muchas versiones aceptan la URI directa o usamos variables:
          # Lo más fácil es configurar el secreto AIVEN_DB_URL con el formato mysql://...
          mysql "${{ secrets.AIVEN_DB_URL }}" -e "SELECT 1;"